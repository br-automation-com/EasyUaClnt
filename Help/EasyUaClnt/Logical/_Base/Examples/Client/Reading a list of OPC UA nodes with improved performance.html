<!DOCTYPE html>
<html>
<head>
    <title>Reading a list of OPC UA nodes with improved performance</title>
    <link rel="stylesheet" href="C:\Projects\AS\BR\easyuaclient-as-project-dev-local\Help\EasyUaClnt\Logical\EasyUaClnt\styles.css">
    <base href="C:/Projects/AS/BR/easyuaclient-as-project-dev-local/Help/EasyUaClnt/Logical/_Base/" target="_blank">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="ORDER" content="0">
</head>
<body>
    <h1>Reading a List of OPC UA Nodes Using EasyUaReadBulk</h1>
    <p>Program examples are developed on ARsim, B&R's simulation PLC.</p>

    <h2>Preparing the OPC UA Client</h2>
    <p>The OPC UA client is enabled in the Configuration View, under the active configuration, in the following file: <strong>Connectivity > OpcUaCs > UaCsConfig.uacfg</strong>.</p>
    <p>Parameter <strong>"OPC UA Client/Server"</strong> is set to <strong>"Enabled"</strong>. The parameter TCP port number is set to <strong>4841</strong>.</p>
    <p><img src="_img/enableopcuaclient1.png" alt="Enable OPC UA Client"></p>

    <h2>Adding EasyUaClt Library</h2>
    <p>In order to run the sample, EasyUaClt has to be imported using <strong>Toolbox > Existing Library</strong>.</p>
    <p><img src="_img/importeasyuacltlibrary.png" alt="Import EasyUaClt Library"></p>

    <h2>Sample Program on the Client</h2>
    <p>Program example <strong>"ReadBulk"</strong> runs on the PLC implementing the FUB EasyUaReadBulk. It can be saved using the following link. Then it has to be imported in the client Automation Studio project.</p>
    <p><a href="_zip/ReadBulk.zip" target="_self">ReadBulk Sample Task</a></p>

    <h2>Reading a List of OPC UA Nodes with Improved Performance</h2>
    <p>The OPC UA server nodes to read are <strong>VarX</strong>, <strong>VarY</strong>, and <strong>VarZ</strong>, and the value will be taken from the local variable <strong>VarA</strong>, <strong>VarB</strong>, and <strong>VarC</strong>. The code on the server side regarding VarX, VarY, and VarZ is:</p>
    <pre class="SourceCode">
<font color="#0000FF" name="Courier" new="">PROGRAM _CYCLIC</font>
    VarX := VarX + 1;
    VarY := VarY + 1;
    VarZ := VarZ + 1;
<font color="#0000FF" name="Courier" new="">END_PROGRAM</font></pre>
    <p>Reading the nodes can be done by executing the FUB <strong>EasyUaReadBulk_0</strong> by setting <strong>EasyUaReadBulk_0.Execute</strong> to <strong>TRUE</strong>. This can be done from the Watch window of the ReadBulk task.</p>
    <p><img src="_img/readbulkexecution.png" alt="ReadBulk Execution"></p>
</body>
</html>
