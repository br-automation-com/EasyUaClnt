<!DOCTYPE html>
<html>
	<head>
   <title>Reading the OPC UA server conecction status</title>
	<title>Reading the OPC UA server conecction status</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Reading the OPC UA server conecction status</title>
		<meta name="ORDER" content="0">
		<link rel="StyleSheet" href="styles.css">
	</head>
	<body>
<h1>Preparing the OPC UA client</h1>
    <p>Program examples are developed on ARsim, B&amp;R&apos;s simulation PLC. </p>
    <h2>OPC UA configuration</h2>
    <p>The OPC UA system is enabled in the PLC configuration.</p>
	<p><img alt="" src="_img/arsimconfig.png" /></p>
    <p>Parameter &quot;Activate OPC UA system&quot; is set to &quot;On&quot;, and the following parameters are modified:</p>
	<p><img alt="" src="_img/opcuasystem.png" /></p>
    <h3>Adding EasyUaClt library</h3>
	<p>In order to run the sample EasyUaClt has to be imported using Toolbox -> Existing Library</p>
	<p><img alt="" src="_img/importeasyuacltlibrary.png" /></p>
    <h3>Sample program on the client</h3>
    <p>
        Program example &quot;ConGetStat&quot; runs on the PLC implementing the FUB EasyUaConnectionGetStatus. It can be saved using the following link. Then it has to be imported in client Automation Studio project.
    </p>
	
	<p><a href="_zip/ConGetStat.zip" target="_self"/>ConGetStat sample task</a></p>
	
    <h3>Reading the OPC UA server conecction status</h3>
    <p>
        This reads the state of the connection and server as well as the service level of the OPC UA server. 
    </p>
	
	<p>
        Reading the connection status can be done executing the FUB EasyUaConnectionGetStatus_0 by setting EasyUaConnectionGetStatus_0.Execute to TRUE. This can be done from the Watch window of the ConGetStat task.
    </p>
	
	<p><img alt="" src="_img/congetstatexecution.png" /></p>
	
	</body>
</html>